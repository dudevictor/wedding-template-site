<h5 class="semi-black-text motion-picture-font-text center">
    Sugestões de Presentes
</h5>

<div class="card search-input">
    <div class="row">
        <div class="col s12">
            <div class="input-field">
                <input id="search" ng-model="giftListCtrl.search" type="search" required="" ng-disabled="giftListCtrl.loading">
                <label for="search" class=""><i class="material-icons">search</i></label>
                <i class="material-icons">close</i>
            </div>
        </div>
    </div>
</div>


<div class="row no-pad-top grid-gifts-list" ng-hide="giftListCtrl.loading">

    <div class="col s12 m6 l4" ng-repeat="product in giftListCtrl.products
            | filter : giftListCtrl.search
            | filter : giftListCtrl.filterByCategory
            | filter : giftListCtrl.filterByPrice
            | orderBy: '-cost'
            | orderBy: giftListCtrl.orderByBridGroomFav">

        <div class="card gift with-padding waves-effect waves-block waves-light" modal open="giftListCtrl.showModal" data-target="modal"
             ng-click="giftListCtrl.clickItem(product)">
            <div class="card-image">
                <i class="fa fa-heart pink-text right" ng-show="giftListCtrl.containsTag(product, giftListCtrl.categories.BRIDE_FAV.id)"></i>
                <i class="fa fa-heart semi-black-text right" ng-show="giftListCtrl.containsTag(product, giftListCtrl.categories.GROOM_FAV.id)"></i>
                <image-onload classes="'activator'" src="product.image_url"></image-onload>
            </div>
            <div class="card-content">
                <span class="activator grey-text text-darken-4">{{product.name}}</span>

            </div>
        </div>
    </div>

</div>

<pre-loader show="giftListCtrl.loading"></pre-loader>

<div id="modal" class="modal modal-fixed-footer">
    <div class="modal-header">
        <h6 class="flow-text text-center">{{giftListCtrl.selectedProduct.name}}</h6>
    </div>
    <div class="modal-content">
        <image-onload classes="'center-image'" classes-text="'center-image center'" src="giftListCtrl.selectedProduct.image_url"></image-onload>
        <p>Preço Médio: {{giftListCtrl.selectedProduct.cost | currency:'R$'}}
           <span ng-if="giftListCtrl.selectedProduct.amount > 1">
               <br/>Quantidade: {{giftListCtrl.selectedProduct.amount}}
           </span>
        </p>
        <h5 class="how-to-give">Como presentear os noivos com este produto</h5>

        <ul class="collapsible popout" data-collapsible="accordion">
            <li ng-show="giftListCtrl.containsTag(giftListCtrl.selectedProduct, giftListCtrl.categories.BUY_LOCAL.id)">
                <div class="collapsible-header"><i class="material-icons">place</i>Comprar em Natal</div>
                <div class="collapsible-body">
                    <div class="collection">
                        <a ng-href="{{store.local}}" target="_blank" class="collection-item"
                           ng-repeat="store in giftListCtrl.selectedProduct.whereBuy | filter : {local : ''}">{{store.store}}</a>
                    </div>

                </div>
            </li>
            <li ng-show="giftListCtrl.containsTag(giftListCtrl.selectedProduct, giftListCtrl.categories.BUY_FROM_INTERNET.id)">
                <div class="collapsible-header"><i class="material-icons">computer</i>Comprar pela Internet</div>
                <div class="collapsible-body">
                    <div class="collection">
                        <a  ng-href="{{store.url}}" target="_blank" class="collection-item"
                            ng-repeat="store in giftListCtrl.selectedProduct.whereBuy | filter : {url: ''}">{{store.store}}</a>
                    </div>
                </div>
            </li>
            <li>
                <div class="collapsible-header"><i class="material-icons">attach_money</i>Transferir o valor do produto para os noivos</div>
                <div class="collapsible-body">
                   <div class="collection">
                       <!--  !!!!!! -->
                       <div class="collection-item">
                           <h6>Banco do Brasil:</h6>
                           <p class="account-detail">Agência: xxx-x<br/>
                           Conta: xxxx-x</p>
                           <h6>Caixa Econômica Federal:</h6>
                           <p class="account-detail">Agência: xxxx-x<br/>
                               Conta: xxxx-x</p>
                       </div>
                       <a class="collection-item" submit form="pagseguro" href="#">
                           <img src="https://stc.pagseguro.uol.com.br/public/img/botoes/pagamentos/209x48-comprar-assina.gif"
                                alt="Pague com PagSeguro - é rápido, grátis e seguro!" />

                       </a>
                       <buy-submit form="pagseguro"
                                   amount="giftListCtrl.selectedProduct.amount"
                                   product-name="giftListCtrl.selectedProduct.name"
                                   price="giftListCtrl.selectedProduct.cost"></buy-submit>
                   </div>
                </div>
            </li>
        </ul>

    </div>
    <div class="modal-footer">

        <a href="javascript:void(0)" form="pagseguro" submit class="modal-action modal-close waves-effect waves-light btn left">
            <i class="material-icons left">card_giftcard</i>Presentear
        </a>

        <a href="javascript:void(0)" class="modal-action modal-close waves-effect waves-green btn-flat">
            <i class="material-icons left">close</i>Fechar
        </a>
    </div>
</div>

<div class="fixed-action-btn">
    <a id="filterGiftsBtn" ng-show="giftListCtrl.showFilterButton" data-activates="filter-nav" class="btn-floating btn-large waves-effect waves-light pink fade"><i class="material-icons">filter_list</i></a>
</div>

<div id="filter-nav" class="side-nav filter-nav">
    <h6 class="center header-filter-text">Filtre os presentes por categorias</h6>
    <h6>Por onde você gostaria de comprar?</h6>
    <ul>
        <li>
            <input type="checkbox" id="byInternet" ng-model="giftListCtrl.filterTags.buyFromInternet" />
            <label for="byInternet">Pela Internet</label>
        </li>
        <li>
            <input type="checkbox" id="byNatal" ng-model="giftListCtrl.filterTags.buyLocal" />
            <label for="byNatal">Em alguma loja em Natal</label>
        </li>
    </ul>
    <h6>Média de Preço?</h6>
    <div id="range" class="range"></div>
    <h6 id="valor-range" class="range-price"></h6>
    <h6>Outras Categorias</h6>
    <ul>
        <li ng-repeat="category in giftListCtrl.categoriesArray | filter : {showInAdminModal: true}">
            <input type="checkbox" id="{{category.id}}" ng-model="giftListCtrl.filterTags[category.attr]" />
            <label for="{{category.id}}">{{category.name}}</label>
        </li>
    </ul>



</div>